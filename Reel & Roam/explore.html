<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore Amazing Destinations</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Appwrite SDK -->
    <script src="https://cdn.jsdelivr.net/npm/appwrite@13.0.1"></script>
    
    <style>
        :root {
            /* Light Theme Colors */
            --bg-primary: #f8fafc;
            --bg-secondary: rgba(255,255,255,0.95);
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-light: #1a202c;
            --accent-color: #f97316;
            --card-bg: rgba(255,255,255,0.95);
            --modal-bg: white;
            --border-color: rgba(0,0,0,0.1);
            --shadow-light: rgba(0,0,0,0.1);
            --shadow-medium: rgba(0,0,0,0.15);
            --success-color: #48bb78;
            --warning-color: #ed8936;
            --error-color: #f56565;
            --toggle-bg: #a7f3d0;
            --toggle-slider-bg: white;
            --hero-gradient: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }

        [data-theme="dark"] {
            /* Dark Theme Colors */
            --bg-primary: #1a202c;
            --bg-secondary: rgba(45,55,72,0.95);
            --text-primary: #f7fafc;
            --text-secondary: #e2e8f0;
            --text-light: #f7fafc;
            --accent-color: #f97316;
            --card-bg: rgba(45,55,72,0.95);
            --modal-bg: #2d3748;
            --border-color: rgba(255,255,255,0.1);
            --shadow-light: rgba(0,0,0,0.3);
            --shadow-medium: rgba(0,0,0,0.5);
            --toggle-bg: #f97316;
            --toggle-slider-bg: white;
            --hero-gradient: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            overflow-x: hidden;
            font-weight: 400;
            line-height: 1.6;
            transition: all 0.3s ease;
            color: var(--text-primary);
        }

        /* Exact Toggle Switch from Screenshots */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
            cursor: pointer;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 32px;
            background: var(--toggle-bg);
            border-radius: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 28px;
            height: 28px;
            background: var(--toggle-slider-bg);
            border-radius: 50%;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        [data-theme="dark"] .toggle-slider {
            transform: translateX(28px);
        }

        .toggle-icon {
            transition: all 0.3s ease;
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
        }

        .toggle-switch:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .hero-section {
            text-align: center;
            padding: 80px 20px;
            color: var(--text-light);
            position: relative;
            background: var(--hero-gradient);
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .hero-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 5vw, 4.5rem);
            font-weight: 800;
            margin-bottom: 20px;
            animation: fadeInUp 1s ease-out;
            letter-spacing: -0.02em;
            color: var(--text-primary);
        }

        .hero-subtitle {
            font-family: 'Poppins', sans-serif;
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            font-weight: 400;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto 40px;
            animation: fadeInUp 1s ease-out 0.3s both;
            letter-spacing: 0.3px;
            line-height: 1.7;
            color: var(--text-secondary);
        }

        .search-container {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
            animation: fadeInUp 1s ease-out 0.6s both;
        }

        .search-input {
            width: 100%;
            padding: 18px 25px;
            border: 2px solid var(--border-color);
            border-radius: 50px;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
            background: var(--card-bg);
            box-shadow: 0 4px 20px var(--shadow-light);
            transition: all 0.3s ease;
            letter-spacing: 0.3px;
            color: var(--text-primary);
        }

        .search-input:focus {
            outline: none;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px var(--shadow-medium);
            border-color: var(--accent-color);
        }

        .search-input::placeholder {
            color: var(--text-secondary);
            font-weight: 300;
        }

        .destinations-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 60px 20px;
            background: var(--bg-primary);
        }

        .filter-tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 12px 24px;
            background: var(--card-bg);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 14px;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px var(--shadow-light);
        }

        .filter-btn:hover, .filter-btn.active {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
        }

        .destinations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            opacity: 0;
            animation: fadeIn 1s ease-out 1s both;
        }

        .destination-card {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 25px var(--shadow-light);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            cursor: pointer;
            border: 1px solid var(--border-color);
        }

        .destination-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px var(--shadow-medium);
        }

        .destination-card.hidden {
            display: none;
        }

        .card-image {
            height: 250px;
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }

        .budget-tag {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 13px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            backdrop-filter: blur(10px);
            letter-spacing: 0.3px;
        }

        .card-content {
            padding: 25px;
        }

        .destination-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            letter-spacing: -0.01em;
            line-height: 1.3;
        }

        .country-flag {
            font-size: 1.3rem;
        }

        .highlights-list {
            list-style: none;
            margin-bottom: 20px;
        }

        .highlights-list li {
            padding: 6px 0;
            font-size: 14px;
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
            line-height: 1.5;
            letter-spacing: 0.2px;
        }

        .budget-breakdown {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .budget-item {
            background: var(--bg-primary);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            font-size: 12px;
            font-family: 'Poppins', sans-serif;
            border: 1px solid var(--border-color);
        }

        .budget-item > div:first-child {
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 4px;
            letter-spacing: 0.3px;
        }

        .budget-amount {
            font-weight: 700;
            color: var(--accent-color);
            font-size: 13px;
            letter-spacing: 0.2px;
        }

        .card-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .view-details-btn, .book-trip-btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        .view-details-btn {
            background: var(--text-primary);
            color: var(--bg-primary);
        }

        .book-trip-btn {
            background: var(--accent-color);
            color: white;
        }

        .view-details-btn:hover, .book-trip-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px var(--shadow-medium);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        /* Enhanced animations for elements */
        .hero-title {
            animation: slideInUp 1s ease-out;
        }

        .hero-subtitle {
            animation: slideInUp 1s ease-out 0.3s both;
        }

        .search-container {
            animation: slideInUp 1s ease-out 0.6s both;
        }

        .destination-card {
            animation: scaleIn 0.6s ease-out;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .destination-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px var(--shadow-medium);
        }

        .filter-btn {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .filter-btn:hover {
            transform: translateY(-2px) scale(1.05);
        }

        .filter-btn.active {
            animation: pulse 2s infinite;
        }

        .theme-toggle {
            animation: bounceIn 1s ease-out 1s both;
        }

        .toggle-switch:hover {
            animation: float 2s ease-in-out infinite;
        }

        /* Additional animations */
        .destination-card {
            animation: scaleIn 0.6s ease-out;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .destination-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px var(--shadow-medium);
        }

        .destination-card:hover .card-image {
            transform: scale(1.05);
        }

        .card-image {
            transition: transform 0.4s ease;
        }

        .filter-btn {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .filter-btn:hover {
            transform: translateY(-2px) scale(1.05);
        }

        .filter-btn.active {
            animation: pulse 2s infinite;
        }

        .search-input:focus {
            animation: pulse 1s ease-in-out;
        }

        .modal-content {
            animation: modalSlideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .booking-content {
            animation: modalSlideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Loading animation for cards */
        .destination-card.loading {
            animation: shimmer 1.5s infinite linear;
            background: linear-gradient(90deg, var(--card-bg) 25%, var(--bg-primary) 50%, var(--card-bg) 75%);
            background-size: 200% 100%;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }
            100% {
                background-position: 200% 0;
            }
        }

        /* Hover effects for budget items */
        .budget-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow-medium);
        }

        .budget-item {
            transition: all 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translate(-50%, -40%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        @keyframes modalBackdropFade {
            from {
                opacity: 0;
                backdrop-filter: blur(0px);
            }
            to {
                opacity: 1;
                backdrop-filter: blur(15px);
            }
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            animation: modalBackdropFade 0.4s ease-out;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--modal-bg);
            border-radius: 25px;
            padding: 0;
            max-width: 700px;
            width: 90%;
            max-height: 85vh;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal-header {
            position: relative;
            height: 300px;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: flex-end;
            padding: 30px;
        }

        .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.7) 100%);
            z-index: 1;
        }

        .modal-header-content {
            position: relative;
            z-index: 2;
            color: white;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 28px;
            cursor: pointer;
            color: white;
            z-index: 3;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0,0,0,0.5);
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            background: rgba(0,0,0,0.7);
            transform: scale(1.1);
        }

        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .modal-budget {
            font-family: 'Poppins', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            background: var(--accent-color);
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
        }

        .modal-body {
            padding: 30px;
            overflow-y: auto;
            max-height: calc(85vh - 300px);
        }

        .modal-section {
            margin-bottom: 30px;
        }

        .modal-section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-highlights {
            list-style: none;
            display: grid;
            gap: 12px;
        }

        .modal-highlights li {
            padding: 12px 15px;
            font-family: 'Poppins', sans-serif;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 12px;
            background: var(--bg-primary);
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        .modal-budget-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .modal-budget-item {
            background: var(--bg-primary);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .modal-budget-label {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 8px;
            font-size: 14px;
        }

        .modal-budget-amount {
            font-family: 'Poppins', sans-serif;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-color);
        }

        /* Booking Modal */
        .booking-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1002;
            animation: modalBackdropFade 0.4s ease-out;
        }

        .booking-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--modal-bg);
            border-radius: 25px;
            padding: 0;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .booking-header {
            background: var(--accent-color);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .booking-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: white;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .booking-close:hover {
            background: rgba(255,255,255,0.3);
        }

        .booking-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .booking-subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        .booking-body {
            padding: 30px;
            overflow-y: auto;
            max-height: calc(90vh - 120px);
        }

        .booking-form {
            display: grid;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-label {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 14px;
        }

        .form-input, .form-select, .form-textarea {
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            font-family: 'Poppins', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .price-display {
            background: var(--accent-color);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }

        .price-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .price-amount {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
        }

        /* Live Calculator Styles */
        .live-calculator {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 12px var(--shadow-light);
        }

        .calculator-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .calculator-item {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .calculator-label {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .calculator-select {
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .calculator-select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .calculator-breakdown {
            background: rgba(249, 115, 22, 0.05);
            border: 1px solid rgba(249, 115, 22, 0.2);
            border-radius: 8px;
            padding: 1.5rem;
        }

        .breakdown-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            text-align: center;
        }

        .breakdown-grid {
            display: grid;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: var(--bg-secondary);
            border-radius: 6px;
            border: 1px solid var(--border-color);
        }

        .breakdown-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .breakdown-amount {
            font-weight: 600;
            color: var(--text-primary);
        }

        .breakdown-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: var(--accent-color);
            color: white;
            border-radius: 8px;
            font-weight: 600;
        }

        .total-label {
            font-size: 1rem;
        }

        .total-amount {
            font-size: 1.25rem;
        }

        .accommodation-suggestions {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }

        .suggestions-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .suggestions-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .suggestion-tag {
            background: var(--accent-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .suggestions-placeholder {
            color: var(--text-secondary);
            font-style: italic;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }
            
            .breakdown-item {
                flex-direction: column;
                gap: 0.5rem;
                text-align: center;
            }
            
            .breakdown-total {
                flex-direction: column;
                gap: 0.5rem;
                text-align: center;
            }
        }

        .booking-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .btn-cancel, .btn-book {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .btn-cancel {
            background: var(--bg-primary);
            color: var(--text-primary);
            border: 2px solid var(--border-color);
        }

        .btn-book {
            background: var(--accent-color);
            color: white;
        }

        .btn-book:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }

        .btn-cancel:hover:not(:disabled), .btn-book:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px var(--shadow-medium);
        }

        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 8px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .success-message {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .success-icon {
            font-size: 4rem;
            color: var(--success-color);
            margin-bottom: 20px;
        }

        .success-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .success-text {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .error-message {
            display: none;
            background: var(--error-color);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-weight: 500;
        }

        .config-warning {
            position: fixed;
            top: 70px;
            right: 20px;
            background: var(--warning-color);
            color: white;
            padding: 15px;
            border-radius: 10px;
            max-width: 300px;
            font-size: 14px;
            z-index: 1003;
            display: none;
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 500;
            z-index: 1004;
            transform: translateX(400px);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 300px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: var(--success-color);
        }

        .notification.error {
            background: var(--error-color);
        }

        .notification.info {
            background: var(--accent-color);
        }

        @media (max-width: 768px) {
            .destinations-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .budget-breakdown {
                grid-template-columns: 1fr;
            }
            
            .filter-tabs {
                gap: 8px;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .filter-btn {
                padding: 8px 16px;
                font-size: 12px;
                min-width: 120px;
            }

            .modal-budget-grid {
                grid-template-columns: 1fr;
            }

            .hero-title {
                font-size: clamp(2rem, 8vw, 3.5rem);
                margin-bottom: 15px;
            }

            .hero-subtitle {
                font-size: clamp(1rem, 4vw, 1.2rem);
                margin-bottom: 30px;
            }

            .theme-toggle {
                top: 15px;
                right: 15px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .booking-buttons {
                flex-direction: column;
                gap: 10px;
            }

            .card-buttons {
                flex-direction: column;
                gap: 10px;
            }

            .toggle-switch {
                width: 50px;
                height: 28px;
            }

            .toggle-slider {
                width: 24px;
                height: 24px;
                font-size: 12px;
            }

            [data-theme="dark"] .toggle-slider {
                transform: translateX(22px);
            }

            .config-warning {
                top: 60px;
                right: 10px;
                max-width: 250px;
                font-size: 12px;
                padding: 12px;
            }

            .notification {
                top: 15px;
                right: 15px;
                left: 15px;
                max-width: none;
                transform: translateY(-100px);
            }

            .notification.show {
                transform: translateY(0);
            }

            .destination-card {
                margin: 0 10px;
            }

            .search-input {
                padding: 15px 20px;
                font-size: 14px;
            }

            .modal-content {
                width: 95%;
                max-height: 90vh;
            }

            .booking-content {
                width: 95%;
                max-height: 95vh;
            }
        }

        @media (max-width: 480px) {
            .hero-section {
                padding: 60px 15px;
                min-height: 50vh;
            }

            .destinations-container {
                padding: 40px 15px;
            }

            .filter-tabs {
                gap: 6px;
            }

            .filter-btn {
                padding: 6px 12px;
                font-size: 11px;
                min-width: 100px;
            }

            .destination-card {
                margin: 0 5px;
            }

            .card-content {
                padding: 20px;
            }

            .destination-title {
                font-size: 1.3rem;
            }

            .budget-breakdown {
                gap: 8px;
            }

            .budget-item {
                padding: 10px;
                font-size: 11px;
            }

            .view-details-btn, .book-trip-btn {
                padding: 12px;
                font-size: 13px;
            }

            .modal-header {
                height: 200px;
                padding: 20px;
            }

            .modal-title {
                font-size: 1.8rem;
            }

            .modal-body {
                padding: 20px;
            }

            .booking-header {
                padding: 20px;
            }

            .booking-title {
                font-size: 1.5rem;
            }

            .booking-body {
                padding: 20px;
            }

            .price-amount {
                font-size: 1.5rem;
            }
        }

        /* Custom Scrollbar Styles */
        .modal-body::-webkit-scrollbar,
        .booking-body::-webkit-scrollbar {
            width: 8px;
        }

        .modal-body::-webkit-scrollbar-track,
        .booking-body::-webkit-scrollbar-track {
            background: var(--bg-primary);
            border-radius: 10px;
        }

        .modal-body::-webkit-scrollbar-thumb,
        .booking-body::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .modal-body::-webkit-scrollbar-thumb:hover,
        .booking-body::-webkit-scrollbar-thumb:hover {
            background: #ea580c;
            box-shadow: 0 2px 8px rgba(249, 115, 22, 0.3);
        }

        /* Firefox scrollbar */
        .modal-body,
        .booking-body {
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) var(--bg-primary);
        }

        /* Smooth scrolling */
        .modal-body,
        .booking-body {
            scroll-behavior: smooth;
        }

        /* Navbar Styles */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 50;
            transition: all 0.3s ease;
            font-family: "Lucida Sans", "Lucida Sans Regular", "Lucida Grande", "Lucida Sans Unicode", Geneva, Verdana, sans-serif;
            background: linear-gradient(white, rgba(255, 255, 255, 0.541));
        }

        .navbar-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 4rem;
        }

        .brand-title {
            font-family: "La Belle Aurore", cursive;
            font-size: 1.8rem;
            font-weight: bolder;
            color: rgb(34, 34, 34);
            padding-top: 10px;
        }

        .navbar-menu {
            display: none;
            gap: 2rem;
        }

        .nav-link {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
        }

        .nav-link:hover {
            color: var(--accent);
        }

        .navbar-buttons {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .mobile-menu-btn {
            display: block;
        }

        .hamburger-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--primary);
            padding: 0.5rem;
        }

        .hamburger-icon {
            width: 1.5rem;
            height: 1.5rem;
        }

        .mobile-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            box-shadow: 0 4px 12px var(--shadow-medium);
            transform: translateY(-100%);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .mobile-menu.show {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }

        .mobile-menu-content {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .mobile-nav-link {
            display: block;
            padding: 0.75rem;
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .mobile-nav-link:hover {
            color: var(--accent);
        }

        .navbar-sticky {
            backdrop-filter: blur(10px);
            background: rgba(248, 248, 255, 0.95);
            border-bottom: 1px solid rgba(59, 73, 72, 0.1);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        /* Buttons */
        .btn {
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn-primary {
            background: var(--accent);
            color: var(--white);
        }

        .btn-primary:hover {
            background: #d67a5e;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(236, 140, 111, 0.3);
        }

        .btn-secondary {
            background-color: #ec8c6f;
            color: var(--white);
        }

        .btn-secondary:hover {
            background: #d67a5e;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(236, 140, 111, 0.3);
        }

        .btn-full {
            width: 100%;
        }

        .hero-btn {
            padding: 1rem 2rem;
            font-size: 1.125rem;
            border-radius: 9999px;
        }

        /* Footer Styles */
        .footer {
            background: var(--bg-secondary);
            color: var(--text-primary);
            padding: 3rem 0 1rem;
            margin-top: 4rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-brand {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .footer-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .footer-social {
            display: flex;
            gap: 1rem;
        }

        .social-icon {
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .social-icon:hover {
            color: var(--accent-color);
        }

        .footer-heading {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .footer-links ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .footer-link {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: var(--accent-color);
        }

        .footer-contact p {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .newsletter-form {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .newsletter-input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            background: var(--bg-primary);
            color: var(--text-primary);
        }

        .newsletter-btn {
            padding: 0.75rem 1rem;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .newsletter-btn:hover {
            background: #d67a5e;
        }

        .footer-bottom {
            border-top: 1px solid var(--border-color);
            padding-top: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .footer-legal {
            display: flex;
            gap: 1rem;
        }

        @media (min-width: 768px) {
            .navbar-menu {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: none;
            }
        }

        /* Adjust hero section for navbar */
        .hero-section {
            margin-top: 4rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav id="navbar" class="navbar">
        <div class="navbar-container">
            <div class="navbar-content">
                <div class="navbar-brand">
                    <h1 class="brand-title">Reel 'N Rome</h1>
                </div>
                <div class="navbar-menu">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="explore.html" class="nav-link">Explore</a>
                    <a href="dashboard.html" class="nav-link">Dashboard</a>
                    <a href="thisis.html" class="nav-link">About Us</a>
                </div>
                <div class="navbar-buttons">
                    <button id="loginBtn" class="btn btn-secondary">Login</button>
                    <button id="registerBtn" class="btn btn-primary">Sign Up</button>
                </div>
                <!-- Mobile menu button -->
                <div class="mobile-menu-btn">
                    <button id="mobileMenuBtn" class="hamburger-btn">
                        <svg class="hamburger-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobileMenu" class="mobile-menu">
            <div class="mobile-menu-content">
                <a href="index.html" class="mobile-nav-link">Home</a>
                <a href="explore.html" class="mobile-nav-link">Explore</a>
                <a href="dashboard.html" class="mobile-nav-link">Dashboard</a>
                <a href="thisis.html" class="mobile-nav-link">About Us</a>
            </div>
        </div>
    </nav>

    <div class="theme-toggle" id="themeToggle">
        <div class="toggle-switch">
            <div class="toggle-slider">
                <span class="toggle-icon">☀️</span>
            </div>
        </div>
    </div>

    <div class="config-warning" id="configWarning">
        ⚠️ Appwrite not configured. Bookings will be saved locally for now. Check console for setup instructions.
    </div>

    <section class="hero-section">
        <h1 class="hero-title">Plan Your Perfect Adventure</h1>
        <p class="hero-subtitle">Create unforgettable journeys with our intelligent trip planner. From solo adventures to group expeditions, we've got you covered.</p>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search destinations..." id="searchInput">
        </div>
    </section>

    <div class="destinations-container">
        <div class="filter-tabs">
            <button class="filter-btn active" data-filter="all">All Destinations</button>
            <button class="filter-btn" data-filter="india">India</button>
            <button class="filter-btn" data-filter="international">International</button>
            <button class="filter-btn" data-filter="budget">Budget Friendly</button>
            <button class="filter-btn" data-filter="luxury">Luxury</button>
        </div>

        <div class="destinations-grid" id="destinationsGrid">
            <!-- Destinations will be populated by JavaScript -->
        </div>
    </div>

    <!-- Details Modal -->
    <div class="modal" id="destinationModal">
        <div class="modal-content">
            <div class="modal-header" id="modalHeader">
                <span class="close-modal" id="closeModal">&times;</span>
                <div class="modal-header-content">
                    <h2 class="modal-title" id="modalTitle"></h2>
                    <div class="modal-budget" id="modalBudget"></div>
                </div>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <!-- Booking Modal -->
    <div class="booking-modal" id="bookingModal">
        <div class="booking-content">
            <div class="booking-header">
                <span class="booking-close" id="closeBooking">&times;</span>
                <h2 class="booking-title">✈️ Book Your Dream Trip</h2>
                <p class="booking-subtitle">Fill in your details and we'll make your journey unforgettable</p>
            </div>

            <div class="booking-body">
                <div id="bookingForm">
                    <div class="error-message" id="errorMessage"></div>
                    
                    <form class="booking-form" id="tripBookingForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">First Name</label>
                                <input type="text" name="firstName" class="form-input" placeholder="Enter your first name" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Last Name</label>
                                <input type="text" name="lastName" class="form-input" placeholder="Enter your last name" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Email Address</label>
                                <input type="email" name="email" class="form-input" placeholder="your@email.com" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Phone Number</label>
                                <input type="tel" name="phone" class="form-input" placeholder="+1 (555) 123-4567" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Departure Date</label>
                                <input type="date" name="departureDate" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Number of Travelers</label>
                                <select name="travelers" class="form-select" required>
                                    <option value="">Select travelers</option>
                                    <option value="1">1 Person</option>
                                    <option value="2">2 People</option>
                                    <option value="3">3 People</option>
                                    <option value="4">4 People</option>
                                    <option value="5+">5+ People</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Trip Duration</label>
                            <select name="duration" class="form-select" required>
                                <option value="">Select duration</option>
                                <option value="3-5">3-5 Days</option>
                                <option value="6-10">6-10 Days</option>
                                <option value="11-15">11-15 Days</option>
                                <option value="16+">16+ Days</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Special Requests</label>
                            <textarea name="specialRequests" class="form-textarea" placeholder="Any special requirements, dietary restrictions, or preferences..."></textarea>
                        </div>

                        <!-- Live Calculator Section -->
                        <div class="live-calculator">
                            <h3 class="calculator-title">💰 Live Cost Calculator</h3>
                            <div class="calculator-grid">
                                <div class="calculator-item">
                                    <label class="calculator-label">Budget Level</label>
                                    <select class="calculator-select" id="budgetLevel">
                                        <option value="budget">💵 Budget (Basic)</option>
                                        <option value="mid" selected>💳 Mid-Range (Comfortable)</option>
                                        <option value="luxury">💎 Luxury (Premium)</option>
                                    </select>
                                </div>
                                <div class="calculator-item">
                                    <label class="calculator-label">Accommodation Type</label>
                                    <select class="calculator-select" id="accommodationType">
                                        <option value="hostel">🏠 Hostel/Dorm</option>
                                        <option value="hotel" selected>🏨 Hotel</option>
                                        <option value="resort">🏖️ Resort</option>
                                        <option value="villa">🏡 Villa</option>
                                    </select>
                                </div>
                                <div class="calculator-item">
                                    <label class="calculator-label">Transportation</label>
                                    <select class="calculator-select" id="transportType">
                                        <option value="public">🚌 Public Transport</option>
                                        <option value="mix" selected>🚗 Mixed (Public + Taxi)</option>
                                        <option value="private">🚙 Private Vehicle</option>
                                        <option value="luxury">🚁 Luxury Transport</option>
                                    </select>
                                </div>
                                <div class="calculator-item">
                                    <label class="calculator-label">Dining Preference</label>
                                    <select class="calculator-select" id="diningType">
                                        <option value="street">🍜 Street Food</option>
                                        <option value="mix" selected>🍽️ Mixed (Street + Restaurants)</option>
                                        <option value="restaurant">🍴 Fine Dining</option>
                                        <option value="luxury">👨‍🍳 Gourmet Experience</option>
                                    </select>
                                </div>
                            </div>
                            
                                                    <div class="calculator-breakdown">
                            <h4 class="breakdown-title">Cost Breakdown</h4>
                            <div class="breakdown-grid">
                                <div class="breakdown-item">
                                    <span class="breakdown-label">🏨 Accommodation</span>
                                    <span class="breakdown-amount" id="accommodationCost">₹0</span>
                                </div>
                                <div class="breakdown-item">
                                    <span class="breakdown-label">🍽️ Food & Dining</span>
                                    <span class="breakdown-amount" id="foodCost">₹0</span>
                                </div>
                                <div class="breakdown-item">
                                    <span class="breakdown-label">🚗 Transportation</span>
                                    <span class="breakdown-amount" id="transportCost">₹0</span>
                                </div>
                                <div class="breakdown-item">
                                    <span class="breakdown-label">🎯 Activities</span>
                                    <span class="breakdown-amount" id="activitiesCost">₹0</span>
                                </div>
                            </div>
                            <div class="breakdown-total">
                                <span class="total-label">Total Cost</span>
                                <span class="total-amount" id="calculatedTotal">₹0</span>
                            </div>
                            
                            <!-- Accommodation Suggestions -->
                            <div class="accommodation-suggestions" id="accommodationSuggestions">
                                <h5 class="suggestions-title">🏨 Recommended Accommodations</h5>
                                <div class="suggestions-list" id="suggestionsList">
                                    <p class="suggestions-placeholder">Select your preferences to see recommendations</p>
                                </div>
                            </div>
                        </div>
                        </div>

                        <div class="price-display">
                            <div class="price-label">Final Total Cost</div>
                            <div class="price-amount" id="totalPrice">₹0</div>
                        </div>

                        <div class="booking-buttons">
                            <button type="button" class="btn-cancel" id="cancelBooking">Cancel</button>
                            <button type="submit" class="btn-book" id="submitBooking">
                                <span class="loading-spinner" id="loadingSpinner"></span>
                                <span id="buttonText">Book Now</span>
                            </button>
                        </div>
                    </form>
                </div>

                <div class="success-message" id="successMessage">
                    <div class="success-icon">🎉</div>
                    <h3 class="success-title">Booking Confirmed!</h3>
                    <p class="success-text">Thank you for choosing us! Your booking has been saved and we'll contact you within 24 hours to finalize your dream trip details.</p>
                    <button class="btn-book" onclick="closeBookingModal()" style="margin-top: 20px; width: 200px;">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Professional Footer -->
    <footer class="footer">
        <div class="container footer-grid">
            <div class="footer-brand">
                <h2 class="brand-title">Reel 'N Rome</h2>
                <p class="footer-description">
                    Crafting timeless travel experiences, one journey at a time.
                </p>
                <div class="footer-social">
                    <a href="https://www.facebook.com/reelnrome" aria-label="Facebook" class="social-icon"><i data-feather="facebook"></i></a>
                    <a href="https://www.instagram.com/reelnrome" aria-label="Instagram" class="social-icon"><i data-feather="instagram"></i></a>
                    <a href="https://twitter.com/reelnrome" aria-label="Twitter" class="social-icon"><i data-feather="twitter"></i></a>
                    <a href="https://www.linkedin.com/company/reelnrome" aria-label="LinkedIn" class="social-icon"><i data-feather="linkedin"></i></a>
                </div>
            </div>
            <div class="footer-links">
                <h3 class="footer-heading">Quick Links</h3>
                <ul>
                    <li><a href="index.html" class="footer-link">Home</a></li>
                    <li><a href="explore.html" class="footer-link">Explore Destinations</a></li>
                    <li><a href="dashboard.html" class="footer-link">Dashboard</a></li>
                    <li><a href="thisis.html" class="footer-link">About Us</a></li>
                </ul>
            </div>
            <div class="footer-contact">
                <h3 class="footer-heading">Contact Us</h3>
                <p>Solapur,Maharshtra,413002</p>
                <p>Email: <a href="ReelnRome@gmail.com" class="footer-link">info@reelnrome.com</a></p>
                <p>Phone: 7588189038</p>
            </div>
            <div class="footer-newsletter">
                <h3 class="footer-heading">Stay Updated</h3>
                <p>Subscribe to our newsletter for exclusive travel tips and offers.</p>
                <form id="newsletter-form" class="newsletter-form">
                    <input type="email" placeholder="Your email address" class="newsletter-input" required />
                    <button type="submit" class="btn btn-primary newsletter-btn">Subscribe</button>
                </form>
                <!-- Hidden thank-you message -->
                <p id="thank-you-message" style="display: none; color: green; margin-top: 10px;">
                    ✅ Thank you for subscribing!
                </p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; <span id="currentYear"></span> Reel 'N Rome. All rights reserved.</p>
            <div class="footer-legal">
                <a href="#" class="footer-link">Privacy Policy</a>
                <a href="#" class="footer-link">Terms of Service</a>
            </div>
        </div>
    </footer>

    <script>
        // Destinations data
        const destinations = {
            london: {
                title: "London, United Kingdom",
                coordinates: [51.5072, -0.1276],
                budget: { accommodation: 1250000, food: 660000, transport: 415000, activities: 580000 },
                highlights: [
                    "🎡 London Eye & Thames River",
                    "🏰 Tower of London",
                    "🛍 Oxford Street shopping",
                    "🎭 West End theatre shows",
                    "🍻 Traditional pubs & British vibes"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&h=600&fit=crop&crop=center",
                flag: "🇬🇧",
                category: "international"
            },
            jaipur: {
                title: "Jaipur, India",
                coordinates: [26.9124, 75.7873],
                budget: { accommodation: 7000, food: 2200, transport: 1800, activities: 2500 },
                highlights: [
                    "🐘 Amber Fort & Elephant ride",
                    "🏯 City Palace & Hawa Mahal",
                    "🎨 Local art and block prints",
                    "🎡 Evening bazaars & street food",
                    "🚗 Heritage walk in old Pink City"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1599661046289-e31897846e41?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            rajasthan: {
                title: "Rajasthan, India",
                coordinates: [27.0238, 74.2179],
                budget: { accommodation: 5000, food: 2000, transport: 2500, activities: 3500 },
                highlights: [
                    "🏰 Majestic forts & palaces",
                    "🪔 Desert safaris & dunes",
                    "🎨 Colorful festivals & markets",
                    "🐪 Camel rides & folk music",
                    "🍛 Traditional Rajasthani cuisine"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1518548419970-58e3b4079ab2?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            manali: {
                title: "Manali, India",
                coordinates: [32.2432, 77.1892],
                budget: { accommodation: 6000, food: 2500, transport: 2000, activities: 3000 },
                highlights: [
                    "🏔 Snowy mountains & Rohtang Pass",
                    "🌲 Woodlands & river rafting",
                    "🚂 Himachal scenery by toy train",
                    "🧣 Cozy cafés & local bakeries",
                    "🧗 Adventure sports like paragliding"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1626621341517-bbf3d9990a23?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            australia: {
                title: "Australia",
                coordinates: [-25.2744, 133.7751],
                budget: { accommodation: 2000000, food: 900000, transport: 600000, activities: 850000 },
                highlights: [
                    "🌊 Great Barrier Reef & beaches",
                    "🦘 Wildlife like kangaroos & koalas",
                    "🌆 Sydney Opera House & Harbour Bridge",
                    "🏜 Outback adventures & Uluru",
                    "🥂 Foodie scenes in Melbourne & Adelaide"
                ],
                unsplashImage: "https://i.ytimg.com/vi/na9eBzLMhTg/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAdX3O9XqmiFq4OwLGyBE1BLTcnVg",
                flag: "🇦🇺",
                category: "international"
            },
            ooty: {
                title: "Ooty, India",
                coordinates: [11.4064, 76.6932],
                budget: { accommodation: 4500, food: 1800, transport: 1500, activities: 2100 },
                highlights: [
                    "🍃 Botanical gardens & tea plantations",
                    "🚂 Nilgiri Mountain Railway",
                    "🌄 Ooty lake boat rides",
                    "🌺 Rose gardens & scenic viewpoints",
                    "🧊 Cool climate & local snacks"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1660918738010-295b09857f93?q=80&w=702&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
                flag: "🇮🇳",
                category: "india"
            },
            shimla: {
                title: "Shimla, India",
                coordinates: [31.1048, 77.1734],
                budget: { accommodation: 5500, food: 2000, transport: 2200, activities: 2400 },
                highlights: [
                    "❄ Mall Road & Ridge walk",
                    "🏞 Jakhu Temple & forest trails",
                    "🚡 Toy train to Kalka",
                    "🍨 Ice cream at woolen kiosks",
                    "🛍 Local handicrafts & woolens"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1558005530-a7958896ec60?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            agra: {
                title: "Agra, India",
                coordinates: [27.1767, 78.0081],
                budget: { accommodation: 6500, food: 2200, transport: 1800, activities: 2700 },
                highlights: [
                    "🕌 Taj Mahal at sunrise",
                    "🏰 Agra Fort & Mughal gardens",
                    "🍛 Mughlai cuisine & street snacks",
                    "📸 Mehtab Bagh photo views",
                    "🛍 Marble inlay handicrafts shopping"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1564507592333-c60657eea523?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            mysore: {
                title: "Mysore, India",
                coordinates: [12.2958, 76.6394],
                budget: { accommodation: 5000, food: 2000, transport: 1800, activities: 2300 },
                highlights: [
                    "🏰 Mysore Palace illuminated",
                    "🌺 Brindavan Gardens & light show",
                    "🧵 Silk weaving & sandalwood markets",
                    "🎨 Art & cultural museums",
                    "🍴 Mysore masala dosa & sweets"
                ],
                unsplashImage: "https://karnatakatourism.org/wp-content/uploads/2020/06/Mysuru-Palace-banner-1920_1100.jpg",
                flag: "🇮🇳",
                category: "india"
            },
            hyderabad: {
                title: "Hyderabad, India",
                coordinates: [17.3850, 78.4867],
                budget: { accommodation: 6000, food: 2400, transport: 2000, activities: 2600 },
                highlights: [
                    "🏰 Charminar & Old City bazaars",
                    "🍲 Hyderabadi biryani & street eats",
                    "🎨 Salar Jung Museum",
                    "🌅 Hussain Sagar lake & Buddha statue",
                    "🛍 Laad Bazaar bangles & pearls"
                ],
                unsplashImage: "https://pohcdn.com/sites/default/files/styles/paragraph__live_banner__lb_image__1880bp/public/live_banner/Hyderabad.jpg",
                flag: "🇮🇳",
                category: "india"
            },
            mumbai: {
                title: "Mumbai, India",
                coordinates: [19.0760, 72.8777],
                budget: { accommodation: 7000, food: 3000, transport: 2500, activities: 3200 },
                highlights: [
                    "🌊 Marine Drive & Chowpatty beach",
                    "🎭 Bollywood tours & theaters",
                    "🏛 Gateway of India & Elephanta Caves",
                    "🍴 Street food like vada pav & pav bhaji",
                    "🛍 Colaba Causeway & fashion markets"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1567157577867-05ccb1388e66?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            bangalore: {
                title: "Bangalore, India",
                coordinates: [12.9716, 77.5946],
                budget: { accommodation: 6500, food: 2400, transport: 2000, activities: 2600 },
                highlights: [
                    "🌳 Cubbon Park & Lalbagh flora",
                    "💻 Tech hub & startup vibe",
                    "🍺 Microbrew breweries & nightlife",
                    "🎨 Street art & food markets",
                    "🍛 South Indian filter coffee & dosa"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1596176530529-78163a4f7af2?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            ladakh: {
                title: "Ladakh, India",
                coordinates: [34.2268, 77.5619],
                budget: { accommodation: 8000, food: 2800, transport: 3500, activities: 4000 },
                highlights: [
                    "🏔 Pangong Tso & Nubra Valley",
                    "🛶 Shanti Stupa & monasteries",
                    "🧗 High-altitude treks & biking",
                    "🌌 Starry nights in Leh",
                    "🧡 Tibetan Buddhist culture & festivals"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            dubai: {
                title: "Dubai, UAE",
                coordinates: [25.2048, 55.2708],
                budget: { accommodation: 1500000, food: 800000, transport: 400000, activities: 600000 },
                highlights: [
                    "🏙️ Burj Khalifa & Downtown Dubai",
                    "🏜️ Desert safari & dune bashing",
                    "🛍️ Dubai Mall & luxury shopping",
                    "🌊 Palm Jumeirah & beaches",
                    "🎡 Dubai Frame & modern architecture"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=800&h=600&fit=crop&crop=center",
                flag: "🇦🇪",
                category: "international"
            },
            kedarnath: {
                title: "Kedarnath, India",
                coordinates: [30.7346, 79.0669],
                budget: { accommodation: 3000, food: 1500, transport: 2500, activities: 1000 },
                highlights: [
                    "🕉️ Kedarnath Temple & spiritual journey",
                    "🏔️ Himalayan trekking & mountain views",
                    "🌲 Scenic beauty & nature trails",
                    "🙏 Religious pilgrimage & meditation",
                    "❄️ Snow-capped peaks & adventure"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1589308078059-be1415eab4c3?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            goa: {
                title: "Goa, India",
                coordinates: [15.2993, 74.1240],
                budget: { accommodation: 5000, food: 2000, transport: 1500, activities: 2500 },
                highlights: [
                    "🏖️ Beautiful beaches & water sports",
                    "🍹 Beach shacks & nightlife",
                    "🏛️ Portuguese churches & heritage",
                    "🍛 Seafood & Goan cuisine",
                    "🎵 Music festivals & cultural events"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇳",
                category: "india"
            },
            maldives: {
                title: "Maldives",
                coordinates: [3.2028, 73.2207],
                budget: { accommodation: 2500000, food: 800000, transport: 300000, activities: 600000 },
                highlights: [
                    "🏝️ Overwater bungalows & crystal clear waters",
                    "🤿 Scuba diving & snorkeling adventures",
                    "🌅 Sunset cruises & dolphin watching",
                    "🍹 Luxury resorts & spa treatments",
                    "🌊 White sand beaches & turquoise lagoons"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1514282401047-d79a71a590e8?w=800&h=600&fit=crop&crop=center",
                flag: "🇲🇻",
                category: "international"
            },
            italy: {
                title: "Italy",
                coordinates: [41.8719, 12.5674],
                budget: { accommodation: 1800000, food: 700000, transport: 500000, activities: 800000 },
                highlights: [
                    "🏛️ Ancient Rome & Colosseum",
                    "🍕 Authentic Italian cuisine & wine",
                    "🎨 Renaissance art & Vatican City",
                    "🚣 Venice canals & gondola rides",
                    "🍝 Tuscany countryside & Florence"
                ],
                unsplashImage: "https://images.unsplash.com/photo-1555992336-03a23c7b20ee?w=800&h=600&fit=crop&crop=center",
                flag: "🇮🇹",
                category: "international"
            }
        };

        let currentBookingDestination = null;
        let appwriteConfigured = false;
        let client, databases;

        // Initialize Appwrite (with error handling)
        function initializeAppwrite() {
            try {
                // Check if Appwrite is loaded
                if (typeof Appwrite === 'undefined') {
                    console.warn('Appwrite SDK not loaded');
                    return false;
                }

                const { Client, Databases, ID } = Appwrite;

                // Configuration - Updated with correct values
                const APPWRITE_ENDPOINT = 'https://fra.cloud.appwrite.io/v1';
                const APPWRITE_PROJECT_ID = '6881d7ac0019d890bd10'; // Your project ID
                const DATABASE_ID = '6888e894001072f582d1'; // Your database ID
                const COLLECTION_ID = '6888e93700269068a76f'; // Your collection ID

                // Check if configuration is set
                if (!APPWRITE_PROJECT_ID || !DATABASE_ID || !COLLECTION_ID) {
                    
                    console.warn('🔧 Appwrite Configuration Needed:');
                    console.warn('1. Create an Appwrite project at https://cloud.appwrite.io');
                    console.warn('2. Create a database and collection');
                    console.warn('3. Replace the configuration values in the script');
                    console.warn('4. Set up collection attributes for booking data');
                    
                    // Show warning to user
                    document.getElementById('configWarning').style.display = 'block';
                    setTimeout(() => {
                        document.getElementById('configWarning').style.display = 'none';
                    }, 10000);
                    
                    return false;
                }

                // Initialize client
                client = new Client();
                client
                    .setEndpoint(APPWRITE_ENDPOINT)
                    .setProject(APPWRITE_PROJECT_ID);

                databases = new Databases(client);
                
                // Store IDs for later use
                window.APPWRITE_CONFIG = {
                    DATABASE_ID,
                    COLLECTION_ID
                };

                appwriteConfigured = true;
                console.log('✅ Appwrite initialized successfully');
                return true;

            } catch (error) {
                console.error('❌ Appwrite initialization failed:', error);
                return false;
            }
        }

        // Save booking to Appwrite database
        async function saveBookingToDatabase(bookingData) {
            if (!appwriteConfigured) {
                throw new Error('Appwrite not configured');
            }

            try {
                const { ID } = Appwrite;
                const response = await databases.createDocument(
                    window.APPWRITE_CONFIG.DATABASE_ID,
                    window.APPWRITE_CONFIG.COLLECTION_ID,
                    ID.unique(),
                    bookingData
                );
                return response;
            } catch (error) {
                console.error('Database save error:', error);
                throw error;
            }
        }

        // Fallback: Save to localStorage
        function saveBookingLocally(bookingData) {
            try {
                const bookings = JSON.parse(localStorage.getItem('travelBookings') || '[]');
                bookingData.id = Date.now().toString();
                bookings.push(bookingData);
                localStorage.setItem('travelBookings', JSON.stringify(bookings));
                console.log('📱 Booking saved locally:', bookingData);
                return bookingData;
            } catch (error) {
                console.error('Local storage error:', error);
                throw error;
            }
        }

        // Save booking to budget tool
        function saveToBudgetTool(bookingData) {
            try {
                // Get existing budget data
                const budgetData = JSON.parse(localStorage.getItem('tripBudgetData') || '[]');
                
                // Create budget entry
                const budgetEntry = {
                    id: Date.now().toString(),
                    destination: bookingData.destination,
                    destinationKey: bookingData.destinationKey,
                    totalBudget: bookingData.totalBudget,
                    budgetBreakdown: bookingData.budgetBreakdown,
                    travelers: bookingData.travelers,
                    duration: bookingData.duration,
                    departureDate: bookingData.departureDate,
                    bookingDate: bookingData.bookingDate,
                    status: 'planned',
                    flag: bookingData.destinationFlag,
                    highlights: bookingData.highlights,
                    coordinates: bookingData.coordinates
                };
                
                budgetData.push(budgetEntry);
                localStorage.setItem('tripBudgetData', JSON.stringify(budgetData));
                
                console.log('💰 Budget tool updated:', budgetEntry);
                
                // Show notification
                showNotification('Trip added to budget planner!', 'success');
                
            } catch (error) {
                console.error('Error saving to budget tool:', error);
            }
        }

        // Theme Toggle Functionality
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateToggleIcon(savedTheme);
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateToggleIcon(newTheme);
        }

        function updateToggleIcon(theme) {
            const toggleIcon = document.querySelector('.toggle-icon');
            
            if (theme === 'dark') {
                toggleIcon.textContent = '🌙';
            } else {
                toggleIcon.textContent = '☀️';
            }
        }

        function formatCurrency(amount) {
            if (amount >= 100000) {
                return `₹${(amount / 100000).toFixed(1)}L`;
            } else if (amount >= 1000) {
                return `₹${(amount / 1000).toFixed(1)}K`;
            } else {
                return `₹${amount}`;
            }
        }

        function getTotalBudget(budget) {
            return budget.accommodation + budget.food + budget.transport + budget.activities;
        }

        function getBudgetCategory(totalBudget) {
            if (totalBudget <= 20000) return 'budget';
            if (totalBudget >= 1000000) return 'luxury';
            return 'mid-range';
        }

        function createDestinationCard(key, destination) {
            const totalBudget = getTotalBudget(destination.budget);
            const budgetCategory = getBudgetCategory(totalBudget);
            
            return `
                <div class="destination-card" data-category="${destination.category}" data-budget="${budgetCategory}" data-key="${key}">
                    <div class="card-image" style="background-image: url('${destination.unsplashImage}')">
                        <div class="budget-tag">${formatCurrency(totalBudget)}</div>
                    </div>
                    <div class="card-content">
                        <h3 class="destination-title">
                            <span class="country-flag">${destination.flag}</span>
                            ${destination.title}
                        </h3>
                        <ul class="highlights-list">
                            ${destination.highlights.slice(0, 3).map(highlight => `<li>${highlight}</li>`).join('')}
                        </ul>
                        <div class="budget-breakdown">
                            <div class="budget-item">
                                <div>🏨 Stay</div>
                                <div class="budget-amount">${formatCurrency(destination.budget.accommodation)}</div>
                            </div>
                            <div class="budget-item">
                                <div>🍽️ Food</div>
                                <div class="budget-amount">${formatCurrency(destination.budget.food)}</div>
                            </div>
                            <div class="budget-item">
                                <div>🚗 Transport</div>
                                <div class="budget-amount">${formatCurrency(destination.budget.transport)}</div>
                            </div>
                            <div class="budget-item">
                                <div>🎯 Activities</div>
                                <div class="budget-amount">${formatCurrency(destination.budget.activities)}</div>
                            </div>
                        </div>
                        <div class="card-buttons">
                            <button class="view-details-btn" onclick="openModal('${key}')">View Details</button>
                            <button class="book-trip-btn" onclick="openBookingModal('${key}')">Book Trip</button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderDestinations() {
            const grid = document.getElementById('destinationsGrid');
            grid.innerHTML = '';
            
            Object.entries(destinations).forEach(([key, destination]) => {
                grid.innerHTML += createDestinationCard(key, destination);
            });
        }

        function filterDestinations(category) {
            const cards = document.querySelectorAll('.destination-card');
            
            cards.forEach(card => {
                const cardCategory = card.dataset.category;
                const cardBudget = card.dataset.budget;
                
                if (category === 'all') {
                    card.classList.remove('hidden');
                } else if (category === 'budget' && cardBudget === 'budget') {
                    card.classList.remove('hidden');
                } else if (category === 'luxury' && cardBudget === 'luxury') {
                    card.classList.remove('hidden');
                } else if (cardCategory === category) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }

        function searchDestinations(searchTerm) {
            const cards = document.querySelectorAll('.destination-card');
            
            cards.forEach(card => {
                const key = card.dataset.key;
                const destination = destinations[key];
                const title = destination.title.toLowerCase();
                const highlights = destination.highlights.join(' ').toLowerCase();
                
                if (title.includes(searchTerm.toLowerCase()) || highlights.includes(searchTerm.toLowerCase())) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function openModal(key) {
            const destination = destinations[key];
            const totalBudget = getTotalBudget(destination.budget);
            
            document.getElementById('modalHeader').style.backgroundImage = `url('${destination.unsplashImage}')`;
            
            document.getElementById('modalTitle').innerHTML = `
                <span>${destination.flag}</span>
                ${destination.title}
            `;
            document.getElementById('modalBudget').textContent = `Total Budget: ${formatCurrency(totalBudget)}`;
            
            const modalBody = `
                <div class="modal-section">
                    <h3 class="modal-section-title">🌟 Highlights</h3>
                    <ul class="modal-highlights">
                        ${destination.highlights.map(highlight => `<li>${highlight}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="modal-section">
                    <h3 class="modal-section-title">💰 Budget Breakdown</h3>
                    <div class="modal-budget-grid">
                        <div class="modal-budget-item">
                            <div class="modal-budget-label">🏨 Accommodation</div>
                            <div class="modal-budget-amount">${formatCurrency(destination.budget.accommodation)}</div>
                        </div>
                        <div class="modal-budget-item">
                            <div class="modal-budget-label">🍽️ Food</div>
                            <div class="modal-budget-amount">${formatCurrency(destination.budget.food)}</div>
                        </div>
                        <div class="modal-budget-item">
                            <div class="modal-budget-label">🚗 Transport</div>
                            <div class="modal-budget-amount">${formatCurrency(destination.budget.transport)}</div>
                        </div>
                        <div class="modal-budget-item">
                            <div class="modal-budget-label">🎯 Activities</div>
                            <div class="modal-budget-amount">${formatCurrency(destination.budget.activities)}</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('modalBody').innerHTML = modalBody;
            document.getElementById('destinationModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('destinationModal').style.display = 'none';
        }

        function openBookingModal(key) {
            currentBookingDestination = key;
            const destination = destinations[key];
            const totalBudget = getTotalBudget(destination.budget);
            
            document.querySelector('.booking-title').innerHTML = `✈️ Book ${destination.title}`;
            document.getElementById('totalPrice').textContent = formatCurrency(totalBudget);
            
            document.getElementById('tripBookingForm').reset();
            document.getElementById('bookingForm').style.display = 'block';
            document.getElementById('successMessage').style.display = 'none';
            document.getElementById('errorMessage').style.display = 'none';
            
            document.getElementById('bookingModal').style.display = 'block';
            
            // Initialize the live calculator
            initializeCalculator(key);
            setupCalculatorEventListeners();
        }

        function closeBookingModal() {
            document.getElementById('bookingModal').style.display = 'none';
            currentBookingDestination = null;
            
            // Reset calculator
            currentDestination = null;
            baseBudget = null;
        }

        function showError(message) {
            const errorElement = document.getElementById('errorMessage');
            errorElement.textContent = message;
            errorElement.style.display = 'block';
        }

        function hideError() {
            document.getElementById('errorMessage').style.display = 'none';
        }

        function setLoadingState(isLoading) {
            const submitButton = document.getElementById('submitBooking');
            const spinner = document.getElementById('loadingSpinner');
            const buttonText = document.getElementById('buttonText');
            
            if (isLoading) {
                submitButton.disabled = true;
                spinner.style.display = 'inline-block';
                buttonText.textContent = 'Booking...';
            } else {
                submitButton.disabled = false;
                spinner.style.display = 'none';
                buttonText.textContent = 'Book Now';
            }
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize everything
            initTheme();
            renderDestinations();
            initializeAppwrite();
            
            // Add scroll animations
            initializeScrollAnimations();
            
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    filterDestinations(this.dataset.filter);
                });
            });
            
            document.getElementById('searchInput').addEventListener('input', function() {
                searchDestinations(this.value);
            });
            
            document.getElementById('closeModal').addEventListener('click', closeModal);
            document.getElementById('destinationModal').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });

            document.getElementById('closeBooking').addEventListener('click', closeBookingModal);
            document.getElementById('cancelBooking').addEventListener('click', closeBookingModal);
            document.getElementById('bookingModal').addEventListener('click', function(e) {
                if (e.target === this) closeBookingModal();
            });

            // Enhanced form submission with fallback
            document.getElementById('tripBookingForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                if (!currentBookingDestination) {
                    showError('No destination selected. Please try again.');
                    return;
                }

                hideError();
                setLoadingState(true);

                try {
                    const formData = new FormData(this);
                    const destination = destinations[currentBookingDestination];
                    
                    // Get calculated budget from the live calculator
                    const calculatedTotal = document.getElementById('calculatedTotal').textContent;
                    const totalBudget = parseFloat(calculatedTotal.replace(/[₹,]/g, '')) || getTotalBudget(destination.budget);
                    
                    // Get current calculator selections
                    const budgetLevel = document.getElementById('budgetLevel').value;
                    const accommodationType = document.getElementById('accommodationType').value;
                    const transportType = document.getElementById('transportType').value;
                    const diningType = document.getElementById('diningType').value;

                    // Prepare booking data
                    const bookingData = {
                        // Personal Information
                        firstName: formData.get('firstName'),
                        lastName: formData.get('lastName'),
                        email: formData.get('email'),
                        phone: formData.get('phone'),
                        
                        // Trip Details
                        destination: destination.title,
                        destinationKey: currentBookingDestination,
                        departureDate: formData.get('departureDate'),
                        travelers: formData.get('travelers'),
                        duration: formData.get('duration'),
                        specialRequests: formData.get('specialRequests') || '',
                        
                        // Budget Information (from calculator)
                        totalBudget: totalBudget,
                        budgetBreakdown: {
                            accommodation: parseFloat(document.getElementById('accommodationCost').textContent.replace(/[₹,]/g, '')),
                            food: parseFloat(document.getElementById('foodCost').textContent.replace(/[₹,]/g, '')),
                            transport: parseFloat(document.getElementById('transportCost').textContent.replace(/[₹,]/g, '')),
                            activities: parseFloat(document.getElementById('activitiesCost').textContent.replace(/[₹,]/g, ''))
                        },
                        
                        // Calculator Selections
                        budgetLevel: budgetLevel,
                        accommodationType: accommodationType,
                        transportType: transportType,
                        diningType: diningType,
                        
                        // Additional Information
                        destinationFlag: destination.flag,
                        destinationCategory: destination.category,
                        coordinates: destination.coordinates,
                        highlights: destination.highlights,
                        
                        // Metadata
                        bookingDate: new Date().toISOString(),
                        status: 'pending'
                    };

                    let savedBooking;

                    // Try to save to Appwrite first, fallback to localStorage
                    if (appwriteConfigured) {
                        try {
                            savedBooking = await saveBookingToDatabase(bookingData);
                            console.log('✅ Booking saved to Appwrite:', savedBooking);
                        } catch (appwriteError) {
                            console.warn('⚠️ Appwrite save failed, using localStorage:', appwriteError);
                            savedBooking = saveBookingLocally(bookingData);
                        }
                    } else {
                        savedBooking = saveBookingLocally(bookingData);
                    }

                    // Save to budget tool
                    saveToBudgetTool(bookingData);

                    // Show success message
                    document.getElementById('bookingForm').style.display = 'none';
                    document.getElementById('successMessage').style.display = 'block';
                    
                    // Auto close after 5 seconds
                    setTimeout(() => {
                        closeBookingModal();
                    }, 5000);

                } catch (error) {
                    console.error('❌ Booking error:', error);
                    
                    let errorMessage = 'Failed to save your booking. Please try again.';
                    
                    if (error.message.includes('Appwrite not configured')) {
                        errorMessage = 'Booking saved locally. Configure Appwrite for cloud storage.';
                    } else if (error.message.includes('Missing required parameter')) {
                        errorMessage = 'Please fill in all required fields.';
                    } else if (error.message.includes('Project not found')) {
                        errorMessage = 'Database connection error. Booking saved locally.';
                    }
                    
                    showError(errorMessage);
                } finally {
                    setLoadingState(false);
                }
            });
        });

        // Add mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('show');
                });
                
                // Close mobile menu when clicking on links
                mobileMenu.querySelectorAll('.mobile-nav-link').forEach((link) => {
                    link.addEventListener('click', () => {
                        mobileMenu.classList.remove('show');
                    });
                });
                
                // Close mobile menu when clicking outside
                document.addEventListener('click', (e) => {
                    if (!mobileMenu.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
                        mobileMenu.classList.remove('show');
                    }
                });
            }
            
            // Set current year in footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();
        });

        // Live Calculator Functions
        let currentDestination = null;
        let baseBudget = null;

        function initializeCalculator(destinationKey) {
            currentDestination = destinationKey;
            baseBudget = destinations[destinationKey].budget;
            
            // Set initial values
            updateCalculator();
            
            // Add event listeners to calculator inputs
            document.getElementById('budgetLevel').addEventListener('change', updateCalculator);
            document.getElementById('accommodationType').addEventListener('change', updateCalculator);
            document.getElementById('transportType').addEventListener('change', updateCalculator);
            document.getElementById('diningType').addEventListener('change', updateCalculator);
        }

        function updateCalculator() {
            if (!currentDestination || !baseBudget) return;

            const budgetLevel = document.getElementById('budgetLevel').value;
            const accommodationType = document.getElementById('accommodationType').value;
            const transportType = document.getElementById('transportType').value;
            const diningType = document.getElementById('diningType').value;
            const travelers = parseInt(document.querySelector('select[name="travelers"]').value) || 1;
            const duration = getDurationDays(document.querySelector('select[name="duration"]').value);

            // Calculate multipliers based on selections
            const multipliers = calculateMultipliers(budgetLevel, accommodationType, transportType, diningType);
            
            // Calculate costs
            const accommodationCost = Math.round(baseBudget.accommodation * multipliers.accommodation * travelers * duration);
            const foodCost = Math.round(baseBudget.food * multipliers.food * travelers * duration);
            const transportCost = Math.round(baseBudget.transport * multipliers.transport * travelers * duration);
            const activitiesCost = Math.round(baseBudget.activities * multipliers.activities * travelers * duration);

            // Update display
            document.getElementById('accommodationCost').textContent = formatCurrency(accommodationCost);
            document.getElementById('foodCost').textContent = formatCurrency(foodCost);
            document.getElementById('transportCost').textContent = formatCurrency(transportCost);
            document.getElementById('activitiesCost').textContent = formatCurrency(activitiesCost);

            const totalCost = accommodationCost + foodCost + transportCost + activitiesCost;
            document.getElementById('calculatedTotal').textContent = formatCurrency(totalCost);
            document.getElementById('totalPrice').textContent = formatCurrency(totalCost);

            // Update accommodation suggestions
            updateAccommodationSuggestions(budgetLevel, accommodationType);
        }

        function calculateMultipliers(budgetLevel, accommodationType, transportType, diningType) {
            const multipliers = {
                accommodation: 1,
                food: 1,
                transport: 1,
                activities: 1
            };

            // Budget level multipliers
            switch (budgetLevel) {
                case 'budget':
                    multipliers.accommodation *= 0.6;
                    multipliers.food *= 0.7;
                    multipliers.transport *= 0.8;
                    multipliers.activities *= 0.7;
                    break;
                case 'luxury':
                    multipliers.accommodation *= 2.5;
                    multipliers.food *= 2.0;
                    multipliers.transport *= 2.0;
                    multipliers.activities *= 1.8;
                    break;
                default: // mid-range
                    multipliers.accommodation *= 1.0;
                    multipliers.food *= 1.0;
                    multipliers.transport *= 1.0;
                    multipliers.activities *= 1.0;
            }

            // Accommodation type multipliers
            switch (accommodationType) {
                case 'hostel':
                    multipliers.accommodation *= 0.4;
                    break;
                case 'resort':
                    multipliers.accommodation *= 1.8;
                    break;
                case 'villa':
                    multipliers.accommodation *= 2.2;
                    break;
                default: // hotel
                    multipliers.accommodation *= 1.0;
            }

            // Transport type multipliers
            switch (transportType) {
                case 'public':
                    multipliers.transport *= 0.5;
                    break;
                case 'private':
                    multipliers.transport *= 1.5;
                    break;
                case 'luxury':
                    multipliers.transport *= 2.5;
                    break;
                default: // mix
                    multipliers.transport *= 1.0;
            }

            // Dining type multipliers
            switch (diningType) {
                case 'street':
                    multipliers.food *= 0.6;
                    break;
                case 'restaurant':
                    multipliers.food *= 1.4;
                    break;
                case 'luxury':
                    multipliers.food *= 2.0;
                    break;
                default: // mix
                    multipliers.food *= 1.0;
            }

            return multipliers;
        }

        function getDurationDays(duration) {
            switch (duration) {
                case '3-5': return 4;
                case '6-10': return 8;
                case '11-15': return 13;
                case '16+': return 20;
                default: return 7;
            }
        }

        function updateAccommodationSuggestions(budgetLevel, accommodationType) {
            const suggestions = {
                budget: {
                    hostel: ['Hostels', 'Guesthouses', 'Budget Hotels'],
                    hotel: ['3-Star Hotels', 'Business Hotels', 'Boutique Hotels'],
                    resort: ['Budget Resorts', 'Eco Resorts', 'Family Resorts'],
                    villa: ['Shared Villas', 'Budget Villas', 'Apartment Rentals']
                },
                mid: {
                    hostel: ['Premium Hostels', 'Private Rooms', 'Boutique Hostels'],
                    hotel: ['4-Star Hotels', 'Boutique Hotels', 'Business Hotels'],
                    resort: ['Mid-Range Resorts', 'Beach Resorts', 'Mountain Resorts'],
                    villa: ['Private Villas', 'Luxury Apartments', 'Vacation Rentals']
                },
                luxury: {
                    hostel: ['Luxury Hostels', 'Private Suites', 'Premium Dorms'],
                    hotel: ['5-Star Hotels', 'Luxury Hotels', 'Palace Hotels'],
                    resort: ['Luxury Resorts', 'All-Inclusive Resorts', 'Private Resorts'],
                    villa: ['Luxury Villas', 'Private Estates', 'Exclusive Rentals']
                }
            };

            const accommodationSuggestions = suggestions[budgetLevel]?.[accommodationType] || ['Standard Options'];
            
            // Display suggestions in the UI
            const suggestionsList = document.getElementById('suggestionsList');
            if (suggestionsList) {
                if (accommodationSuggestions.length > 0) {
                    suggestionsList.innerHTML = accommodationSuggestions.map(suggestion => 
                        `<span class="suggestion-tag">${suggestion}</span>`
                    ).join('');
                } else {
                    suggestionsList.innerHTML = '<p class="suggestions-placeholder">Select your preferences to see recommendations</p>';
                }
            }
        }

        // Update calculator when form fields change
        function setupCalculatorEventListeners() {
            const travelersSelect = document.querySelector('select[name="travelers"]');
            const durationSelect = document.querySelector('select[name="duration"]');
            
            if (travelersSelect) {
                travelersSelect.addEventListener('change', updateCalculator);
            }
            if (durationSelect) {
                durationSelect.addEventListener('change', updateCalculator);
            }
        }

        // Global functions for onclick handlers
        window.openModal = openModal;
        window.openBookingModal = openBookingModal;
        window.closeBookingModal = closeBookingModal;

        // Scroll animations
        function initializeScrollAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe destination cards
            document.querySelectorAll('.destination-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                observer.observe(card);
            });

            // Observe filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.style.opacity = '0';
                btn.style.transform = 'translateY(20px)';
                btn.style.transition = 'all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                observer.observe(btn);
            });
        }

        // Notification system
        function showNotification(message, type = 'info') {
            // Remove existing notifications
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());

            // Create new notification
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;

            // Add to page
            document.body.appendChild(notification);

            // Animate in
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);

            // Auto remove after 4 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }
        
        // Authentication check for navbar
        async function checkAuthAndUpdateNavbar() {
            try {
                // Check if user is logged in by looking for user data in localStorage
                const userData = localStorage.getItem('currentUser');
                const loginBtn = document.getElementById('loginBtn');
                const registerBtn = document.getElementById('registerBtn');
                
                if (userData) {
                    const user = JSON.parse(userData);
                    
                    // Update login button to show user name
                    if (loginBtn) {
                        loginBtn.textContent = `Hello, ${user.name || user.email.split('@')[0]}`;
                        loginBtn.onclick = () => {
                            // Show user menu or redirect to dashboard
                            window.location.href = 'dashboard.html';
                        };
                    }
                    
                    // Update register button to logout
                    if (registerBtn) {
                        registerBtn.textContent = 'Logout';
                        registerBtn.onclick = async () => {
                            // Clear user data
                            localStorage.removeItem('currentUser');
                            localStorage.removeItem('travelBookings');
                            // Redirect to home page
                            window.location.href = 'index.html';
                        };
                        registerBtn.className = 'btn btn-secondary';
                    }
                } else {
                    // User not logged in - show default login/signup buttons
                    if (loginBtn) {
                        loginBtn.textContent = 'Login';
                        loginBtn.onclick = () => window.location.href = 'index.html#login';
                        loginBtn.className = 'btn btn-secondary';
                    }
                    
                    if (registerBtn) {
                        registerBtn.textContent = 'Sign Up';
                        registerBtn.onclick = () => window.location.href = 'index.html#signup';
                        registerBtn.className = 'btn btn-primary';
                    }
                }
            } catch (error) {
                console.error('Error checking auth status:', error);
            }
        }
        
        // Check auth status when page loads
        document.addEventListener('DOMContentLoaded', function() {
            checkAuthAndUpdateNavbar();
        });
    </script>
    <script src="script.js"></script>
</body>
</html>